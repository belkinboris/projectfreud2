<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diary</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="header">
        <span id="logo">Simulation</span>
        <button id="backButton" onclick="goBack()">Back</button>
    </div>

    <div class="card">
        <h1>Relationships</h1>
        <p>Father Relationship: <span id="fatherRel">100</span></p>
        <p>Mother Relationship: <span id="motherRel">100</span></p>
        <p>Friend Relationship: <span id="friendRel">50</span></p>
    </div>

    <div class="card">
        <h1>Achievements</h1>
        <ul id="achievementsList"></ul>
    </div>

    <script>
        // Define the goBack function globally
        window.goBack = function () {
            window.location.href = "index.html"; // Redirect back to the main page
        };

        // Load the saved game state from localStorage
        const savedState = localStorage.getItem("gameState");
        if (savedState) {
            const gameState = JSON.parse(savedState);

            // Restore relationships
            const fatherRelElement = document.getElementById("fatherRel");
            const motherRelElement = document.getElementById("motherRel");
            const friendRelElement = document.getElementById("friendRel");

            if (fatherRelElement) fatherRelElement.textContent = gameState.fatherRel || 100;
            if (motherRelElement) motherRelElement.textContent = gameState.motherRel || 100;
            if (friendRelElement) friendRelElement.textContent = gameState.friendRel || 50;

            // Restore achievements
            const achievementsList = document.getElementById("achievementsList");
            if (achievementsList) {
                achievementsList.innerHTML = ""; // Clear the list first
                (gameState.achievements || []).forEach(achievement => {
                    const listItem = document.createElement("li");
                    listItem.textContent = achievement;
                    achievementsList.appendChild(listItem);
                });
            }
        }
    </script>
</body>
</html>